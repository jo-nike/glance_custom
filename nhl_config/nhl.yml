          - type: custom-api
            title: NHL Today
            cache: 5s
            url: https://api-web.nhle.com/v1/score/now # http://192.168.50.79:5050/nhl
            template: |
              {{ $myTeam := "ALL" }}
              {{ $games := .JSON.Array "games" }}
              
              <style>
              .tooltip {
                position: relative;
                display: inline-block;
              }

              .tooltip .tooltiptext {
                visibility: hidden;
                width: 120px;
                background-color: black;
                color: #fff;
                text-align: center;
                border-radius: 6px;
                padding: 5px 0;

                /* Position the tooltip */
                position: absolute;
                z-index: 1;
              }

              .tooltip:hover .tooltiptext {
                visibility: visible;
              }
              </style>

              {{ define "gameItem" }}
              {{ $awayTeamColor := "" }}
              {{ $homeTeamColor := "" }}
              <table>
                <tr>
                  <td>
                      {{ if .Exists "situation" }}
                        {{ if .Exists "situation.awayTeam.situationDescriptions" }}
                          {{ $awayTeamColor = "red" }}
                        {{ end }}
                        {{ if .Exists "situation.homeTeam.situationDescriptions" }}
                          {{ $homeTeamColor = "green" }}
                        {{ end }}
                      {{ end }}
                      <a target="_blank" class="size-h4 color-highlight block text-truncate" href="https://www.nhl.com{{ .String "gameCenterLink" }}/">
                        <span style="color: {{ $awayTeamColor }}"> {{ .String "awayTeam.name.default" }} </span> vs <span style="color: {{ $homeTeamColor }} "> {{ .String "homeTeam.name.default" }} </span>
                      </a>
                  </td>
                  <tr>
                    <td>
                        {{ if .Exists "situation" }}
                          {{ if .Exists "situation.awayTeam.situationDescriptions" }}
                            {{ range $index, $desc := .Array "situation.awayTeam.situationDescriptions" }}
                              <span style="color: {{ $awayTeamColor }};"> {{ $desc.Value }} </span>
                            {{ end }} 
                          {{ end }}
                          {{ if .Exists "situation.homeTeam.situationDescriptions" }}
                              {{ range $index, $desc := .Array "situation.homeTeam.situationDescriptions" }}
                                <span style="color: {{ $homeTeamColor }};"> {{ $desc.Value }} </span>
                              {{ end }}
                          {{ end }}
                            <span> {{ .String "situation.timeRemaining" }} </span>
                        {{ end }}
                    </td>
                  </tr>
                </tr>
                </table>
                <table>
                  {{ $root := . }}
                  {{ $homeTeam := .String "homeTeam.abbrev" }}
                  {{ $awayTeam := .String "awayTeam.abbrev" }}
                  {{ $homeTeamScores := "" }}
                  {{ $awayTeamScores := "" }}
                  {{ range $index, $desc := .Array "goals" }}
                      {{ $teamAbbrev := .String "teamAbbrev" }}
                      {{ $playerName := .String "name.default" }}
                      {{ $timeScored := .String "timeInPeriod" }}
                      {{ $periodScored := .Int "period" }}
                      {{ if eq $awayTeam $teamAbbrev }}
                        {{ $awayTeamScores = (printf "%s %s %s(%d)" $awayTeamScores $playerName $timeScored $periodScored ) }}
                      {{ else if eq $homeTeam $teamAbbrev }}
                        {{ $homeTeamScores = (printf "%s %s %s(%d)" $homeTeamScores $playerName $timeScored $periodScored ) }}
                    {{ end }}
                  {{ end }}
                  <tr>
                    <td class="tooltip">
                      <img style="float: left" width="50" height="auto" src={{ .String "awayTeam.logo" }}>
                      <span class="tooltiptext"> {{ $awayTeamScores }} </span>
                    </td>
                    <td class="tooltip">
                      <div>
                        <p style="font-size:25px"> {{ .String "awayTeam.score" }} </p>
                        <span class="tooltiptext"> {{ $awayTeamScores }} </span>
                      </div>
                    </td>
                    <td>
                      <p style="font-size:25px">-</p>
                    </td>
                    <td class="tooltip">
                      <div>
                        <p style="font-size:25px"> {{ .String "homeTeam.score" }} </p>
                        <span class="tooltiptext"> {{ $homeTeamScores }} </span>
                      </div>
                    </td>
                    <td class="tooltip">
                      <img style="float: left" width="50" height="auto" src={{ .String "homeTeam.logo" }}>
                      <span class="tooltiptext"> {{ $homeTeamScores }} </span>
                    </td>
                    <td>
                      {{ $gameState := .String "gameState" }}
                      {{ if or (eq $gameState "OFF") (eq $gameState "FINAL") }}
                        <p>Final
                        {{ if eq (.String "gameOutcome.lastPeriodType") "OT" }}
                           OT</p>
                        {{ end }}
                        {{ if eq (.String "gameOutcome.lastPeriodType") "SO" }}
                           SO</p>
                        {{ end }}
                      {{ else if or (eq $gameState "FUT") (eq $gameState "PRE") }}
                        {{ $utc := .String "startTimeUTC" }}
                        {{ $hour := (slice $utc 11 13) }}
                        {{ $min := (slice $utc 14 16) }}
                        {{ if eq $hour "23" }}7:{{ $min }} PM
                        {{ else if eq $hour "00" }}8:{{ $min }} PM
                        {{ else if eq $hour "01" }}9:{{ $min }} PM
                        {{ else if eq $hour "02" }}10:{{ $min }} PM
                        {{ else if eq $hour "03" }}11:{{ $min }} PM
                        {{ else if eq $hour "04" }}12:{{ $min }} AM
                        {{ else if eq $hour "05" }}1:{{ $min }} AM
                        {{ else if eq $hour "06" }}2:{{ $min }} AM
                        {{ else if eq $hour "07" }}3:{{ $min }} AM
                        {{ else if eq $hour "08" }}4:{{ $min }} AM
                        {{ else if eq $hour "09" }}5:{{ $min }} AM
                        {{ else if eq $hour "10" }}6:{{ $min }} AM
                        {{ else if eq $hour "11" }}7:{{ $min }} AM
                        {{ else if eq $hour "12" }}8:{{ $min }} AM
                        {{ else if eq $hour "13" }}9:{{ $min }} AM
                        {{ else if eq $hour "14" }}10:{{ $min }} AM
                        {{ else if eq $hour "15" }}11:{{ $min }} AM
                        {{ else if eq $hour "16" }}12:{{ $min }} PM
                        {{ else if eq $hour "17" }}1:{{ $min }} PM
                        {{ else if eq $hour "18" }}2:{{ $min }} PM
                        {{ else if eq $hour "19" }}3:{{ $min }} PM
                        {{ else if eq $hour "20" }}4:{{ $min }} PM
                        {{ else if eq $hour "21" }}5:{{ $min }} PM
                        {{ else if eq $hour "22" }}6:{{ $min }} PM
                        {{ else }} {{ $hour }} : {{ $min }} UTC {{ end }}
                      {{ else if or (eq $gameState "LIVE") (eq $gameState "CRIT") }}
                        {{ $period := .Int "period" }}
                        {{ $periodString := .String "period" }}
                        {{ $timeRemaining := .String "clock.timeRemaining" }}
                        {{ $intermission := .Int "clock.inIntermission" }}
                        {{ if eq $period 1 }}
                          {{ $addonValue := "st" }}
                          {{ if eq $intermission 1 }}
                            {{ $addonValue = printf "%s Int" $addonValue }}
                          {{ end }}
                          <p>{{ $periodString }}{{ $addonValue }} {{ $timeRemaining }}</p>
                        {{ else if eq $period 2 }}
                          {{ $addonValue := "nd" }}
                          {{ if eq $intermission 1 }}
                            {{ $addonValue = printf "%s Int" $addonValue }}
                          {{ end }}
                          <p>{{ $periodString }}{{ $addonValue }} {{ $timeRemaining }}</p>
                        {{ else if eq $period 3 }}
                          {{ $addonValue := "rd" }}
                          {{ if eq $intermission 1 }}
                            {{ $addonValue = printf "%s Int" $addonValue }}
                          {{ end }}
                          <p>{{ $periodString }}{{ $addonValue }} {{ $timeRemaining }}</p>
                        {{ else }}
                          <p>{{ .String "periodDescriptor.periodType" }} 
                            {{ if not (eq (.String "periodDescriptor.periodType") "SO") }}
                              {{ $timeRemaining }}
                            {{ end }}
                          </p>
                        {{ end }}
                      {{ else }}
                        <p>{{ $gameState }}</p>
                      {{ end }}
                    </td>
                  </tr>
                </table>
              {{ end }}
              <ul class="list list-gap-10 collapsible-container" data-collapse-after="10">
                {{ range $game := $games }}
                  {{ if and (or (eq ($game.String "homeTeam.abbrev") $myTeam) (eq ($game.String "awayTeam.abbrev") $myTeam) (eq "ALL" $myTeam)) }}
                    {{ $state := $game.String "gameState" }}
                    {{ if not (or (eq $state "FINAL") (eq $state "OFF")) }}
                      {{ template "gameItem" $game }}
                    {{ end }}
                  {{ end }}
                {{ end }}
                {{ range $game := $games }}
                  {{ if and (or (eq ($game.String "homeTeam.abbrev") $myTeam) (eq ($game.String "awayTeam.abbrev") $myTeam) (eq "ALL" $myTeam)) }}
                    {{ $state := $game.String "gameState" }}
                    {{ if or (eq $state "FINAL") (eq $state "OFF") }}
                      {{ template "gameItem" $game }}
                    {{ end }}
                  {{ end }}
                {{ end }}
              </ul>